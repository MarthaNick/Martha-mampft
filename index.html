<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Martha mampft</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🍽️</text></svg>">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <h1>Martha mampft ...</h1>

    <div class="top-controls">
      <div id="topConstraintsLegend">
        <div class="legend-card">
          <div class="legend-title" style="text-align:left;">Label Liste</div>
          <div class="legend-list" style="justify-content:flex-start;">
            <span class="constraint-badge badge-pasta">Nudeln</span>
            <span class="constraint-badge badge-green_vegetable">Grünes Gemüse</span>
            <span class="constraint-badge badge-oven">Backofen</span>
            <span class="constraint-badge badge-grain">Getreide</span>
            <span class="constraint-badge badge-seasonal">Saisonal</span>
            <span class="constraint-badge badge-salad">Salat</span>
            <span class="constraint-badge badge-beans_lentils">Bohnen/Linsen</span>
            <span class="constraint-badge badge-eggs">Eier</span>
            <span class="constraint-badge badge-dairy">Milchprodukte</span>
            <span class="constraint-badge">3× vegetarisch</span>
            <span class="constraint-badge">1× Fleisch/Geflügel/Fisch</span>
          </div>
        </div>
        <div class="legend-card" style="margin-top:12px;">
          <div class="legend-title" style="text-align:left;">Weltküche Regionen</div>
          <div class="legend-list" style="justify-content:flex-start;">
            <span class="constraint-badge">Mediterran</span>
            <span class="constraint-badge">Osteuropäisch</span>
            <span class="constraint-badge">Skandinavisch</span>
            <span class="constraint-badge">Germanisch</span>
            <span class="constraint-badge">Nordamerikanisch</span>
            <span class="constraint-badge">Nahost</span>
            <span class="constraint-badge">Lateinamerikanisch</span>
            <span class="constraint-badge">Südostasiatisch</span>
            <span class="constraint-badge">Ostasiatisch</span>
            <span class="constraint-badge">Afrikanisch</span>
            <span class="constraint-badge">Karibisch</span>
          </div>
        </div>
      </div>
      <div class="buttons-panel">
      <div class="button-container">
      <!-- Row 1: Prev | New Randomization | Next -->
      <div class="nav-randomize-row">
        <button class="prev-week-btn align-left" onclick="previousWeek()" id="prevWeekBtn">← Vorherige Woche</button>
        <button class="randomize-btn" onclick="newRandomization()" id="randomizeBtn">Neue Zufallsauswahl</button>
        <button class="next-week-btn align-right" onclick="nextWeek()" id="nextWeekBtn">Nächste Woche →</button>
      </div>

      <!-- Row 2: Favorites, Banned (Blue pastels) -->
      <div class="button-row">
        <button
          class="favorites-btn"
          onclick="showFavorites()"
          id="favoritesBtn"
          style="display: none"
        >
          ❤️ Favoriten
        </button>
        <button
          class="banned-btn"
          onclick="showBanned()"
          id="bannedBtn"
          style="display: none"
        >
          🚫 Verbannt
        </button>
      </div>

      <!-- Row 3: Export Shopping List (Yellow pastel) -->
      <div class="button-row">
        <button
          class="export-btn"
          onclick="showShoppingList()"
          id="exportBtn"
          style="display: none"
        >
          📋 Einkaufsliste anzeigen
        </button>
      </div>

      </div>
    </div>

    <div class="week-indicator" id="weekIndicator" style="display: none">
      <span id="weekText"></span>
    </div>

    <div class="meals-container" id="mealsContainer"></div>
    <div id="constraintsLegend">
      <div class="legend-card">
        <div class="legend-title">Wöchentliche Beschränkungen zu erfüllen</div>
        <div class="legend-list">
          <span class="constraint-badge badge-pasta">Nudeln</span>
          <span class="constraint-badge badge-green_vegetable">Grünes Gemüse</span>
          <span class="constraint-badge badge-oven">Backofen</span>
          <span class="constraint-badge badge-grain">Getreide</span>
          <span class="constraint-badge badge-seasonal">Saisonal</span>
          <span class="constraint-badge badge-salad">Salat</span>
          <span class="constraint-badge badge-beans_lentils">Bohnen/Linsen</span>
          <span class="constraint-badge badge-eggs">Eier</span>
          <span class="constraint-badge badge-dairy">Milchprodukte</span>
          <span class="constraint-badge">3× vegetarisch</span>
          <span class="constraint-badge">1× Fleisch/Geflügel/Fisch</span>
        </div>
      </div>
    </div>

    <script src="meals.js"></script>
    <script src="ingredient-categories.js"></script>
    <div class="list-container" id="favoritesContainer">
      <div class="list-header">
        <h2>❤️ Lieblingsgerichte</h2>
        <button class="back-btn" onclick="showMainView()">
          ← Zurück zum Mahlzeitenplaner
        </button>
      </div>
      <div class="meals-container show" id="favoritesMealsGrid"></div>
    </div>

    <div class="list-container" id="bannedContainer">
      <div class="list-header">
        <h2>🚫 Verbannte Gerichte</h2>
        <button class="back-btn" onclick="showMainView()">
          ← Zurück zum Mahlzeitenplaner
        </button>
      </div>
      <div class="meals-container show" id="bannedMealsGrid"></div>
    </div>

    <div class="list-container" id="shoppingListContainer">
      <div class="list-header">
        <h2>📋 Einkaufsliste</h2>
        <div class="shopping-list-buttons">
          <button class="back-btn" onclick="showMainView()">
            ← Zurück zum Mahlzeitenplaner
          </button>
          <button class="download-btn" onclick="downloadShoppingList()">
            📥 Liste herunterladen
          </button>
          <button class="copy-short-list-btn" onclick="copyShortList()">
            📋 Als Kurze Liste speichern
          </button>
        </div>
      </div>
      <div id="shoppingListContent"></div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
